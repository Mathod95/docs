---
title: "Day 9: Monitoring and Logging in Kubernetes"
date: 2026-01-19
categories:
  - "uncategorized"
tags:
  - "untagged"
source: "https://medium.com/@vinoji2005/day-9-monitoring-and-logging-in-kubernetes-a72c4be852b5"
author:
  - "[[Vinoth Subbiah]]"
---
<!-- more -->

[Sitemap](https://medium.com/sitemap/sitemap.xml)

[Mastodon](https://me.dm/@vinoji2005)

![](https://miro.medium.com/v2/resize:fit:640/format:webp/0*kNLby-olKdP6eNpB)

### ğŸ¯ Learning Objective:

Understand how to set up monitoring and logging in Kubernetes to gain insights into the performance and health of your applications and the cluster.

### ğŸ“– Scenario:

You need to monitor your Kubernetes cluster and the applications running within it to ensure everything is functioning correctly and to troubleshoot issues when they arise.

### ğŸ“˜ Explanation:

Monitoring in Kubernetes involves collecting, processing, and visualizing metrics to understand the performance and health of your applications and the cluster. Logging involves collecting, storing, and analyzing logs generated by your applications and Kubernetes components.

## ğŸ”‘ Key Concepts:

Metrics:

- Quantitative data that provides insights into the performance and health of your system.
- Examples: CPU usage, memory usage, request latency.

Logs:

- Textual data that provides detailed information about the operations and events happening in your system.
- Examples: application logs, system logs, audit logs.

## ğŸ“„ Monitoring Tools:

Popular tools for monitoring Kubernetes include Prometheus and Grafana.

### ğŸ“‘ Installing Prometheus and Grafana:

Install Prometheus:

```c
kubectl apply -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/master/bundle.yaml
```

Install Grafana:

```c
kubectl apply -f https://raw.githubusercontent.com/grafana/helm-charts/main/charts/grafana/templates/deployment.yaml
```

## ğŸ“„ Logging Tools:

Popular tools for logging in Kubernetes include Elasticsearch, Fluentd, and Kibana (EFK stack).

### ğŸ“‘ Installing the EFK Stack:

Install Elasticsearch:

```c
kubectl apply -f https://raw.githubusercontent.com/elastic/cloud-on-k8s/master/config/samples/elasticsearch/elasticsearch.yaml
```

Install Fluentd:

```c
kubectl apply -f https://raw.githubusercontent.com/fluent/fluentd-kubernetes-daemonset/master/fluentd-daemonset-elasticsearch-rbac.yaml
```

Install Kibana:

```c
kubectl apply -f https://raw.githubusercontent.com/elastic/cloud-on-k8s/master/config/samples/kibana/kibana.yaml
```

## ğŸ› ï¸ Steps to Set Up Monitoring and Logging:

### Set Up Prometheus:

Apply the Prometheus Operator manifest:

```c
kubectl apply -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/master/bundle.yaml
```

Access the Prometheus dashboard:

```c
kubectl port-forward svc/prometheus-operated 9090:9090
```

Open a web browser and navigate to `http://localhost:9090`.

### Set Up Grafana:

Apply the Grafana manifest:

```c
kubectl apply -f https://raw.githubusercontent.com/grafana/helm-charts/main/charts/grafana/templates/deployment.yaml
```

Access the Grafana dashboard:

```c
kubectl port-forward svc/grafana 3000:3000
```

Open a web browser and navigate to `http://localhost:3000`.

- Default login: username `admin`, password `admin`.

### Set Up the EFK Stack:

Apply the Elasticsearch manifest:

```c
kubectl apply -f https://raw.githubusercontent.com/elastic/cloud-on-k8s/master/config/samples/elasticsearch/elasticsearch.yaml
```

Apply the Fluentd manifest:

```c
kubectl apply -f https://raw.githubusercontent.com/fluent/fluentd-kubernetes-daemonset/master/fluentd-daemonset-elasticsearch-rbac.yaml
```

Apply the Kibana manifest:

```c
kubectl apply -f https://raw.githubusercontent.com/elastic/cloud-on-k8s/master/config/samples/kibana/kibana.yaml
```

Access the Kibana dashboard:

```c
kubectl port-forward svc/kibana-kb-http 5601:5601
```

Open a web browser and navigate to `http://localhost:5601`.

## ğŸ” Detailed Example Explanation:

Prometheus:

- Prometheus is a monitoring system and time-series database that collects metrics from configured targets at given intervals, evaluates rule expressions, and can trigger alerts.

Grafana:

- Grafana is an open-source platform for monitoring and observability. It provides charts, graphs, and alerts for the web when connected to supported data sources such as Prometheus.

Elasticsearch:

- Elasticsearch is a distributed search and analytics engine used for log and event data storage and analysis.

Fluentd:

- Fluentd is an open-source data collector that allows you to unify data collection and consumption for better use and understanding.

Kibana:

- Kibana is an open-source data visualization dashboard for Elasticsearch. It provides search, view, and interaction capabilities with data stored in Elasticsearch indices.

## ğŸ’¡ Benefits:

- Visibility: Monitoring and logging provide visibility into the performance and health of your applications and cluster.
- Troubleshooting: Helps identify and resolve issues quickly by analyzing metrics and logs.
- Proactive Management: Enables proactive management through alerts and dashboards.

## ğŸ“š Additional Concepts and Examples:

### ğŸ“‘ Setting Up Alerts in Prometheus:

- You can define alerting rules in Prometheus to trigger alerts based on certain conditions.

Example:

```c
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: example-prometheus-rule
spec:
  groups:
  - name: example
    rules:
    - alert: HighMemoryUsage
      expr: node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes * 100 < 10
      for: 5m
      labels:
        severity: critical
      annotations:
        summary: "High memory usage detected"
        description: "Memory usage is above 90% for more than 5 minutes."
```

### ğŸ“‘ Creating Dashboards in Grafana:

- Grafana allows you to create custom dashboards to visualize metrics from Prometheus or other data sources.

Example:

1. Log in to Grafana.
2. Add Prometheus as a data source.
3. Create a new dashboard and add panels to visualize metrics.

## ğŸ§ª Hands-on Activity:

Set Up Prometheus:

- Use the provided commands to install Prometheus and access the dashboard.

Set Up Grafana:

- Use the provided commands to install Grafana and access the dashboard.

Set Up the EFK Stack:

- Use the provided commands to install Elasticsearch, Fluentd, and Kibana, and access the Kibana dashboard.

Create Alerts in Prometheus:

- Define alerting rules in Prometheus and test them.

Create Dashboards in Grafana:

- Create custom dashboards in Grafana to visualize metrics from Prometheus.

Verify and Inspect:

- Use `kubectl get pods`, `kubectl logs <pod-name>`, and the Prometheus, Grafana, and Kibana dashboards to verify and inspect the monitoring and logging setup.

## ğŸ¤ Engage and Reflect:

Understanding monitoring and logging is crucial for maintaining the performance and health of your applications and Kubernetes cluster.

ğŸ’¬ Engage With Us: How do you plan to use monitoring and logging in your projects? What challenges did you face while implementing them? Share your experiences and thoughts.

ğŸ‘‰ Stay tuned for more learning opportunities and keep refining your Kubernetes knowledge to stay ahead in the ever-evolving tech landscape. Letâ€™s continue to explore, innovate, and automation

## More from Vinoth Subbiah

## Recommended from Medium

[

See more recommendations

](https://medium.com/?source=post_page---read_next_recirc--a72c4be852b5---------------------------------------)